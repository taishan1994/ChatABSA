# ChatSA
基于ChatGPT的情感分析，总共有7个子任务。

![7个ABSA子任务](https://img-blog.csdnimg.cn/20210623094417195.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MjM0NDQx,size_16,color_FFFFFF,t_70)

### 如何使用

1、首先你得有一个openai的账号，并且在[Account API Keys - OpenAI API](https://platform.openai.com/account/api-keys)创建一个api key。

2、其次你得有一个vpn，vpn代理为全局模式。

3、修改main.py里面的df_access里面的api key。

4、选择不同的子任务运行即可。

### 结果

```python
---AE---
---begin---
给你一个例子：
给出的句子是：值得去的地方，石头很奇特，景色优美，环境宜人，适合与朋友家人一起游玩！
给定实体类型列表:['方面']
你应该提取该句子里面的所有方面，这里的观点可能是对某方面的评价、介绍等。
输出列表：["地方", "石头", "环境", "景色"]
如果不存在，回答：没有。
返回结果为输出列表。

现在，我给你一个句子，如"味道很不错，很喜欢吃。服务也很好感觉很亲切，吃的很舒服，谢谢"，你应该提取里面所有实体类型为方面的实体，并以列表的形式返回结果，如果不存在，则回答：没有。
{'sentence': '味道很不错，很喜欢吃。服务也很好感觉很亲切，吃的很舒服，谢谢', 'type': '', 'access': '', 'task': 'AE', 'lang': 'chinese', 'result': ['味道', '服务'], 'mess': [{'role': 'system', 'content': 'You are a helpful assistant.'}, {'role': 'user', 'content': '给你一个例子：\n给出的句子是：值得去的地方，石头很奇特，景色优美，环境宜人，适合与朋友家人一起 游玩！\n给定实体类型列表:[\'方面\']\n你应该提取该句子里面的所有方面，这里的观点可能是对某方面的评价、介绍等。\n输出列表 ：["地方", "石头", "环境", "景色"]\n如果不存在，回答：没有。\n返回结果为输出列表。\n\n现在，我给你一个句子，如"味道很不 错，很喜欢吃。服务也很好感觉很亲切，吃的很舒服，谢谢"，你应该提取里面所有实体类型为方面的实体，并以列表的形式返回结果， 如果不存在，则回答：没有。'}]}

---OE---
---begin---
给你一个例子：
给出的句子是：值得去的地方，石头很奇特，景色优美，环境宜人，适合与朋友家人一起游玩！
给定实体类型列表:['观点']
你应该提取该句子里面的所有观点，这里的观点可能是对某方面的评价、介绍等，请注意你只需要提取出观点，不要方面。
输出列表：["值得去", "奇特", "优美", "宜人"]
如果不存在，回答：没有。
返回结果为输出列表。

现在，我给你一个句子，如"味道很不错，很喜欢吃。服务也很好感觉很亲切，吃的很舒服，谢谢"，你应该提取里面所有实体类型为观点的实体，并以列表的形式返回结果，如果不存在，则回答：没有。
{'sentence': '味道很不错，很喜欢吃。服务也很好感觉很亲切，吃的很舒服，谢谢', 'type': '', 'access': '', 'task': 'OE', 'lang': 'chinese', 'result': ['味道很不错', '喜欢吃', '服务也很好感觉很亲切', '吃的很舒服'], 'mess': [{'role': 'system', 'content': 'You are a helpful assistant.'}, {'role': 'user', 'content': '给你一个例子：\n给出的句子是：值得去的地方，石头 很奇特，景色优美，环境宜人，适合与朋友家人一起游玩！\n给定实体类型列表:[\'观点\']\n你应该提取该句子里面的所有观点，这里 的观点可能是对某方面的评价、介绍等，请注意你只需要提取出观点，不要方面。\n输出列表：["值得去", "奇特", "优美", "宜人"]\n如果不存在，回答：没有。\n返回结果为输出列表。\n\n现在，我给你一个句子，如"味道很不错，很喜欢吃。服务也很好感觉很亲切， 吃的很舒服，谢谢"，你应该提取里面所有实体类型为观点的实体，并以列表的形式返回结果，如果不存在，则回答：没有。'}]}

---ALSC---
---begin---
给你一个例子：
给出的句子是：值得去的地方，石头很奇特，景色优美，环境宜人，适合与朋友家人一起游玩！
给定一个方面，你需要判断它的情感是什么，从['正面的', '负面的', '中性的']里进行选择。
比如，给定方面"地方"，输出列表：["正面的"]
如果不存在，回答：没有。
返回结果为输出列表。

现在，我给你一个句子，如"味道很不错，很喜欢吃。服务也很好感觉很亲切，吃的很舒服，谢谢"，和一个方面"味道"，你应该判断它的情感，并以列表的形式返回结果，如果不存在，则回答：没有。
{'sentence': '味道很不错，很喜欢吃。服务也很好感觉很亲切，吃的很舒服，谢谢', 'type': '', 'aspect': '味道', 'access': '', 'task': 'ALSC', 'lang': 'chinese', 'result': [('味道', '正面的')], 'mess': [{'role': 'system', 'content': 'You are a helpful assistant.'}, {'role': 'user', 'content': '给你一个例子：\n给出的句子是：值得去的地方，石头很奇特，景色优美，环境 宜人，适合与朋友家人一起游玩！\n给定一个方面，你需要判断它的情感是什么，从[\'正面的\', \'负面的\', \'中性的\']里进行选择。\n比如，给定方面"地方"，输出列表：["正面的"]\n如果不存在，回答：没有。\n返回结果为输出列表。\n\n现在，我给你一个句子，如"味道很不错，很喜欢吃。服务也很好感觉很亲切，吃的很舒服，谢谢"，和一个方面"味道"，你应该判断它的情感，并以列表的形式返回结果，如果不存在，则回答：没有。'}]}

---AOE---
---begin---
给你一个例子：
给出的句子是：值得去的地方，石头很奇特，景色优美，环境宜人，适合与朋友家人一起游玩！
给定一个方面，你需要识别它的观点或者修饰词是什么。
比如，给定方面"地方"，输出列表：["值得去"]，请注意结果不要带上方面。
如果不存在，回答：没有。
返回结果为输出列表。

现在，我给你一个句子，如"味道很不错，很喜欢吃。服务也很好感觉很亲切，吃的很舒服，谢谢"，和一个方面"味道"，你应该输出它的观点或修饰词，并以列表的形式返回结果，如果不存在，则回答：没有。
给定方面"味道"，则输出列表：["很不错", "很喜欢吃"]。
{'sentence': '味道很不错，很喜欢吃。服务也很好感觉很亲切，吃的很舒服，谢谢', 'type': '', 'aspect': '味道', 'access': '', 'task': 'AOE', 'lang': 'chinese', 'result': [('味道', '很不错'), ('味道', '很喜欢吃')], 'mess': [{'role': 'system', 'content': 'You are a helpful assistant.'}, {'role': 'user', 'content': '给你一个例子：\n给出的句子是：值得去的地方，石头很奇特，景色优美，环境宜人，适合与朋友家人一起游玩！\n给定一个方面，你需要识别它的观点或者修饰词是什么。\n比如，给定方面" 地方"，输出列表：["值得去"]，请注意结果不要带上方面。\n如果不存在，回答：没有。\n返回结果为输出列表。\n\n现在，我给你一 个句子，如"味道很不错，很喜欢吃。服务也很好感觉很亲切，吃的很舒服，谢谢"，和一个方面"味道"，你应该输出它的观点或修饰词，并以列表的形式返回结果，如果不存在，则回答：没有。'}]}

---PAIR---
---begin---
给你一个例子：
给出的句子是：值得去的地方，石头很奇特，景色优美，环境宜人，适合与朋友家人一起游玩！
你需要提取里面所有的方面及其对应的观点，请注意，方面可能是主体或者具有一定意义的名词，观点是形容某个方面的词。
输出列表：[("地方", "值得去"),("石头","奇特"),("环境", "优美"),("景色","宜人")]
如果不存在，回答：没有。
返回结果为输出列表。

现在，我给你一个句子，如"味道很不错，很喜欢吃。服务也很好感觉很亲切，吃的很舒服，谢谢"，请识别出里面所有的方面及其对应的观点，并以列表的形式返回结果，如果不存在，则回答：没有。
{'sentence': '味道很不错，很喜欢吃。服务也很好感觉很亲切，吃的很舒服，谢谢', 'type': '', 'access': '', 'task': 'PAIR', 'lang': 'chinese', 'result': [('味道', '不错'), ('服务', '好'), ('感觉', '亲切'), ('口感', '舒服')], 'mess': [{'role': 'system', 'content': 'You are a helpful assistant.'}, {'role': 'user', 'content': '给你一个例子：\n给出的句子是：值得去的 地方，石头很奇特，景色优美，环境宜人，适合与朋友家人一起游玩！\n你需要提取里面所有的方面及其对应的观点，请注意，方面可能是主体或者具有一定意义的名词，观点是形容某个方面的词。\n输出列表：[("地方", "值得去"),("石头","奇特"),("环境", "优美"),("景色","宜人")]\n如果不存在，回答：没有。\n返回结果为输出列表。\n\n现在，我给你一个句子，如"味道很不错，很喜欢吃。服务也很好感觉很亲切，吃的很舒服，谢谢"，请识别出里面所有的方面及其对应的观点，并以列表的形式返回结果，如果不存在，则回答：没 有。'}]}

---TRIPLET---
---begin---
给你一个例子：
给出的句子是：值得去的地方，石头很奇特，景色优美，环境宜人，适合与朋友家人一起游玩！
你需要提取里面所有的方面及其对应的观点和情感，情感从['正面的', '负面的', '中立的']中选择，请注意，方面可能是主体或者具有一定意义的名词，观点是形容某个方面的词。
输出列表：[("地方", "值得去","正面的"),("石头","奇特","正面的"),("环境", "优美","正面的"),("景色","宜人","正面的")]
如果不存在，回答：没有。
返回结果为输出列表。

现在，我给你一个句子，如"味道很不错，很喜欢吃。服务也很好感觉很亲切，吃的很舒服，谢谢"，请识别出里面所有的方面及其对应的观点和情感，并以列表的形式返回结果，如果不存在，则回答：没有。
{'sentence': '味道很不错，很喜欢吃。服务也很好感觉很亲切，吃的很舒服，谢谢', 'type': '', 'access': '', 'task': 'TRIPLET', 'lang': 'chinese', 'result': [('味道', '不错', '正面的'), ('服务', '好', '正面的'), ('感觉', '亲切', '正面的'), ('吃的', '舒服', '正面的')], 'mess': [{'role': 'system', 'content': 'You are a helpful assistant.'}, {'role': 'user', 'content': '给你一个例子：\n给出的句子是：值得去的地方，石头很奇特，景色优美，环境宜人，适合与朋友家人一起游玩！\n你需要提取里面所有的方面及其对应的观点和情感，情感从[\'正面的\', \'负面的\', \'中立的\']中选择，请注意，方面可能是主体或者具有一定意义的名词，观点是形容某个方面的词。\n输出列表：[("地方", "值得去","正面的"),("石头","奇特","正面的"),("环境", "优美","正面 的"),("景色","宜人","正面的")]\n如果不存在，回答：没有。\n返回结果为输出列表。\n\n现在，我给你一个句子，如"味道很不错， 很喜欢吃。服务也很好感觉很亲切，吃的很舒服，谢谢"，请识别出里面所有的方面及其对应的观点和情感，并以列表的形式返回结果， 如果不存在，则回答：没有。'}]}
```

# 补充

该项目受https://github.com/cocacola-lab/ChatIE/的启发，代码参考其，在此表示感谢。
